# =========================
# Loon Personal Config
# Repo: proxy-config
# Author: nide-yida
# @TgChannel: https://t.me/TXTDZS
# =========================

# æœ¬é…ç½®åœ°å€ï¼šhttps://raw.githubusercontent.com/nide-yida/proxy-config/refs/heads/main/Loon.conf
# Loonæ’ä»¶å¤§å…¨åœ°å€ï¼šhttps://too.st/5bm

##########################
# General
##########################
[General]
ip-mode = v4-only
ipv6 = false
dns-server = 119.29.29.29, 223.5.5.5
doh-server = https://dns.alidns.com/dns-query, https://doh.pub/dns-query
allow-wifi-access = true
wifi-access-http-port = 7222
wifi-access-socks5-port = 7221
skip-proxy = 192.168.0.0/16,10.0.0.0/8,127.0.0.1,localhost,*.local
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 2
interface-mode = auto

##########################
# Remote Filter
##########################
[Remote Proxy]

[Remote Filter]

ALL_NODES = NameRegex, FilterKey = "|"
##########################
# Remote Filter
##########################
[Remote Proxy]

[Remote Filter]
# æ’é™¤æ‰€æœ‰æ‚è´¨ï¼ˆå¹¿å‘Šã€ç½‘æ˜“äº‘ã€å®˜ç½‘ç­‰ï¼‰çš„é€šç”¨èŠ‚ç‚¹æ± 
å…¨éƒ¨_èŠ‚ç‚¹ = NameRegex, FilterKey = "^((?!(ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|å®˜ç½‘|æµé‡|åŠ ç¾¤|è®¢é˜…|è·å–|åˆ·æ–°|é¸¡åœº|æœºåœº|è®¢è´­|è´­ä¹°|å¥—é¤|é‡ç½®|åˆ†äº«|ç½‘å€|é‚€è¯·|å…¬ä¼—å·|Netease|Music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|Update|music|ğŸµ|ğŸ¶|ğŸ§)).)*$"
# ä¸“é—¨æå–ç½‘æ˜“äº‘è§£é”èŠ‚ç‚¹
ç½‘æ˜“äº‘_èŠ‚ç‚¹ = NameRegex, FilterKey = "(?i)(ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|music|ğŸµ|ğŸ¶|ğŸ§)"
# é¦™æ¸¯èŠ‚ç‚¹ï¼šæå–é¦™æ¸¯å…³é”®è¯ï¼ŒåŒæ—¶æ’é™¤å…¶ä»–åœ°åŒºå’Œç½‘æ˜“äº‘æ‚è´¨
HK_é¦™æ¸¯ = NameRegex, FilterKey = "(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™|æ¸¯|é¦™æ¸¯|é¦™æ±Ÿ|é¦™å²›|æ¹¾ä»”|æ¸¯ä»”|ä¹é¾™|é“œé”£æ¹¾|æ—ºè§’|HK|Hong|HongKong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|Update|music|ğŸµ|ğŸ¶|ğŸ§)).)*$"
# å°æ¹¾èŠ‚ç‚¹ï¼šæå–å°æ¹¾å…³é”®è¯ï¼ŒåŒæ—¶æ’é™¤å…¶ä»–åœ°åŒºå’Œç½‘æ˜“äº‘æ‚è´¨
TW_å°æ¹¾ = NameRegex, FilterKey = "(?=.*((?i)ğŸ‡¨ğŸ‡³|å°|å°æ¹¾|å°åŒ—|æ–°åŒ—|æ¡ƒå›­|å°ä¸­|å°å—|é«˜é›„|åŸºéš†|æ–°ç«¹|å˜‰ä¹‰|è‹—æ —|å½°åŒ–|å—æŠ•|äº‘æ—|å±ä¸œ|å°ä¸œ|èŠ±è²|å®œå…°|æ¾æ¹–|é‡‘é—¨|è¿æ±Ÿ|TW|Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|Update|music|ğŸµ|ğŸ¶|ğŸ§)).)*$"
# æ—¥æœ¬èŠ‚ç‚¹ï¼šæå–æ—¥æœ¬å…³é”®è¯ï¼ŒåŒæ—¶æ’é™¤å…¶ä»–åœ°åŒºå’Œç½‘æ˜“äº‘æ‚è´¨
JP_æ—¥æœ¬ = NameRegex, FilterKey = "(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|åå¤å±‹|ç¦å†ˆ|ä»™å°|äº¬éƒ½|Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|Update|music|ğŸµ|ğŸ¶|ğŸ§)).)*$"
# éŸ©å›½èŠ‚ç‚¹ï¼šæå–éŸ©å›½å…³é”®è¯ï¼ŒåŒæ—¶æ’é™¤å…¶ä»–åœ°åŒºå’Œç½‘æ˜“äº‘æ‚è´¨
KR_éŸ©å›½ = NameRegex, FilterKey = "(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©|éŸ©å›½|å—éŸ©|å—æœé²œ|é«˜ä¸½|å¤§éŸ©æ°‘å›½|é¦–å°”|ä¸–å®—|æµå·å¸‚|æ°´åŸ|é‡œå±±|å¤§é‚±|ä»å·|å…‰å·|å¤§ç”°|è”šå±±|KR|Korea|Korean|South Korea))^((?!(æ¸¯|å°|æ—¥|æ–°|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|Update|music|ğŸµ|ğŸ¶|ğŸ§)).)*$"
# æ–°åŠ å¡èŠ‚ç‚¹ï¼šæå–æ–°åŠ å¡å…³é”®è¯ï¼ŒåŒæ—¶æ’é™¤å…¶ä»–åœ°åŒºå’Œç½‘æ˜“äº‘æ‚è´¨
SG_æ–°åŠ å¡ = NameRegex, FilterKey = "(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°|ç‹®|ç…|å¡|æ–°åŠ å¡|æ˜Ÿ|æ˜ŸåŠ å¡|æ˜Ÿæ´²|ç‹®åŸ|SG|Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|Update|music|ğŸµ|ğŸ¶|ğŸ§)).)*$"
# ç¾å›½èŠ‚ç‚¹ï¼šæå–ç¾å›½å…³é”®è¯ï¼ŒåŒæ—¶æ’é™¤å…¶ä»–åœ°åŒºå’Œç½‘æ˜“äº‘æ‚è´¨
US_ç¾å›½ = NameRegex, FilterKey = "(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾|ç¾å›½|ç¾åˆ©åšåˆä¼—å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|åç››é¡¿|å†…åè¾¾|è’™å¤§çº³|æ€€ä¿„æ˜å·|è²å°¼å…‹æ–¯|é˜¿å°”ä¼¯å…‹åŸº|ä¸¹ä½›|US|United States|States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|Update|music|ğŸµ|ğŸ¶|ğŸ§)).)*$"
# è‹±å›½èŠ‚ç‚¹
GB_è‹±å›½ = NameRegex, FilterKey = "(?=.*((?i)ğŸ‡¬ğŸ‡§|è‹±|è‹±å›½|å¤§ä¸åˆ—é¢ |ä¼¦æ•¦|UK|United Kingdom|Britain))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|Update|music|ğŸµ|ğŸ¶|ğŸ§)).)*$"
# å¾·å›½èŠ‚ç‚¹
DE_å¾·å›½ = NameRegex, FilterKey = "(?=.*((?i)ğŸ‡©ğŸ‡ª|å¾·|å¾·å›½|æŸæ—|æ³•å…°å…‹ç¦|DE|Germany))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|Update|music|ğŸµ|ğŸ¶|ğŸ§)).)*$"
# åŠ æ‹¿å¤§èŠ‚ç‚¹
CA_åŠ æ‹¿å¤§ = NameRegex, FilterKey = "(?=.*((?i)ğŸ‡¨ğŸ‡¦|åŠ |åŠ æ‹¿å¤§|å¤šä¼¦å¤š|æ¸©å“¥å|è’™ç‰¹åˆ©å°”|CA|Canada))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|Update|music|ğŸµ|ğŸ¶|ğŸ§)).)*$"



##########################
# Proxy Group
##########################
[Proxy Group]

# ===== åŸºç¡€ =====
å…¨éƒ¨èŠ‚ç‚¹ = select,ALL_NODES,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Loon.png
ç­–ç•¥é€‰æ‹© = select,å»¶è¿Ÿæœ€ä½,å…¨éƒ¨èŠ‚ç‚¹,ç›´è¿æ¨¡å¼,è´Ÿè½½å‡è¡¡,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Back.png

# ===== è‡ªåŠ¨ =====
å»¶è¿Ÿæœ€ä½ = url-test,ALL_NODES,url = http://cp.cloudflare.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Delay.png
è´Ÿè½½å‡è¡¡ = load-balance,ALL_NODES,url = http://cp.cloudflare.com/generate_204,interval = 600,max-timeout = 3000,algorithm = pcc,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/SSID.png

# ===== åœ°åŒº =====
ç¾å›½èŠ‚ç‚¹ = url-test,US_ç¾å›½,url = http://cp.cloudflare.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/flags/US.png
æ—¥æœ¬èŠ‚ç‚¹ = url-test,JP_æ—¥æœ¬,url = http://cp.cloudflare.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/flags/JP.png
æ–°åŠ å¡èŠ‚ç‚¹ = url-test,SG_æ–°åŠ å¡,url = http://cp.cloudflare.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/flags/SG.png
é¦™æ¸¯èŠ‚ç‚¹ = url-test,HK_é¦™æ¸¯,url = http://cp.cloudflare.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/flags/HK.png
å°æ¹¾èŠ‚ç‚¹ = url-test,TW_å°æ¹¾,url = http://cp.cloudflare.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/flags/TW.png

# ===== AI =====
ChatGPT = select,ç¾å›½èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å…¨éƒ¨èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/AI/ChatGPT.png
Gemini = select,æ—¥æœ¬èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ–°åŠ å¡èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/AI/Gemini.png
Copilot = select,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/AI/Copilot.png
AppleAI = url-test,ç¾å›½èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,url = http://cp.cloudflare.com/generate_204,interval = 300,tolerance = 50,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/AI/Intelligence.png

# ===== æœåŠ¡ =====
Google = select,ç¾å›½èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å…¨éƒ¨èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Google.png
Telegram = select,é¦™æ¸¯èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Telegram.png
Instagram = select,é¦™æ¸¯èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Instagram.png
Facebook = select,é¦™æ¸¯èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Facebook.png

# ===== é‡‘è =====
PayPal = select,é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,DIRECT,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/PayPal.png

# ===== å¾®è½¯ =====
Microsoft = select,DIRECT,é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Microsoft.png

# ===== Apple ç§æœ‰ä¸­ç»§ =====
iCloud-Relay = select,REJECT,DIRECT,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/iCloud.png

# ===== æµåª’ä½“ =====
Netflix = select,é¦™æ¸¯èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Netflix.png
YouTube = select,é¦™æ¸¯èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/YouTube.png
Disney = select,é¦™æ¸¯èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Disney.png

# ===== ç‹¬ç«‹å¼€å…³ =====
iOSæ›´æ–° = select,REJECT,DIRECT,img-url = raw.githubusercontent.com,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Apple_Update.png

# ===== å…œåº• =====
ç›´è¿æ¨¡å¼ = select,DIRECT,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/DIRECT.png
æ‹¦æˆªæ¨¡å¼ = select,REJECT,DIRECT,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/REJECT.png
Proxy = select,ç­–ç•¥é€‰æ‹©,å…¨éƒ¨èŠ‚ç‚¹,ç›´è¿æ¨¡å¼,img-url = https://raw.githubusercontent.com/nide-yida/proxy-config/main/icons/Services/Proxy.png


##########################
# Rule
##########################
[Rule]
# iOSæ›´æ–°è§„åˆ™æ”¾åœ¨æœ€ä¸Šæ–¹ç¡®ä¿ä¼˜å…ˆçº§
DOMAIN,appldnld.apple.com,iOSæ›´æ–°
DOMAIN,mesu.apple.com,iOSæ›´æ–°
DOMAIN,gdmf.apple.com,iOSæ›´æ–°
DOMAIN,updates-http.cdn-apple.com,iOSæ›´æ–°
DOMAIN,updates.cdn-apple.com,iOSæ›´æ–°
DOMAIN,xp.apple.com,iOSæ›´æ–°

DOMAIN-KEYWORD,pangolin,æ‹¦æˆªæ¨¡å¼
DOMAIN-KEYWORD,adview,æ‹¦æˆªæ¨¡å¼
GEOIP,CN,DIRECT
FINAL,Proxy


##########################
# Remote Rule
##########################
[Remote Rule]

# ===== China Directï¼ˆåŸºç¡€ç›´è¿ï¼Œæ¨èï¼‰=====
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/China/China.list, policy=DIRECT, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/China/China_Domain.list, policy=DIRECT, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/ChinaIPs/ChinaIPs.list, policy=DIRECT, enabled=true
# ===== LAN / å±€åŸŸç½‘ =====
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Lan/Lan.list, policy=DIRECT, enabled=true

https://raw.githubusercontent.com/nide-yida/proxy-config/main/proxy-rules/ai/ai-apple-intelligence.list, policy=AppleAI, enabled=true
https://raw.githubusercontent.com/nide-yida/proxy-config/main/proxy-rules/apple/service.list, policy=DIRECT, enabled=true
# ä¿®æ”¹æ­¤å¤„ policy ä¸º iOSæ›´æ–°
https://raw.githubusercontent.com/nide-yida/proxy-config/main/proxy-rules/apple/apple-update.list, policy=iOSæ›´æ–°, enabled=true

# ===== Services =====
https://raw.githubusercontent.com/nide-yida/proxy-config/main/proxy-rules/services/PayPal.list, policy=PayPal, enabled=true
https://raw.githubusercontent.com/nide-yida/proxy-config/main/proxy-rules/services/microsoft.list, policy=Microsoft, enabled=true

# ===== Apple =====
https://raw.githubusercontent.com/nide-yida/proxy-config/main/proxy-rules/apple/icloud-relay.list, policy=iCloud-Relay, enabled=true

FINAL, policy=Proxy, enabled=true
